# General informations
General:
  config_name: 'test_CTA_North'
  production: 'Prod3b' # Prod3b or Prod5N
  site: 'north'  # 'north' or 'south'
  # 'array' can be either
  # - a custom list of telescope IDs
  # - 'full_array', 'prod5N_alpha_north' or 'prod5N_alpha_south'
  # If a string, you can select a telescope-type subarray by
  # adding e.g. '_LST_LST_LSTCam'
  # NOTE: the 'full_array' is the total original array without any selection
  array: 'full_array'

Calibration:
  # factor to transform the integrated charges (in ADC counts) into number of
  # photoelectrons
  # the pixel-wise one calculated by simtelarray is 0.92
  calibscale: 0.92

# Cleaning for reconstruction
ImageCleaning:

 # Cleaning for reconstruction
 biggest:
  tail:  #
   thresholds:  # picture, boundary
    - LSTCam: [6.61, 3.30]
    - NectarCam: [5.75, 2.88]
    - FlashCam: [4,2] # dummy values for reliable unit-testing
    - ASTRICam: [4,2] # dummy values for reliable unit-testing
    - DigiCam: [0,0] # values left unset for future studies
    - CHEC: [0,0] # values left unset for future studies
    - SCTCam: [0,0] # values left unset for future studies
   keep_isolated_pixels: False
   min_number_picture_neighbors: 1

  wave:
   # Directory to write temporary files
   #tmp_files_directory: '/dev/shm/'
   tmp_files_directory: './'
   options:
    LSTCam:
     type_of_filtering: 'hard_filtering'
     filter_thresholds: [3, 0.2]
     last_scale_treatment: 'drop'
     kill_isolated_pixels: True
     detect_only_positive_structures: False
     clusters_threshold: 0
    NectarCam:  # TBC
     type_of_filtering: 'hard_filtering'
     filter_thresholds: [3, 0.2]
     last_scale_treatment: 'drop'
     kill_isolated_pixels: True
     detect_only_positive_structures: False
     clusters_threshold: 0

 # Cleaning for energy/score estimation
 extended:
  tail:  #
   thresholds:  # picture, boundary
    - LSTCam: [6.61, 3.30]
    - NectarCam: [5.75, 2.88]
    - FlashCam: [4,2] # dummy values for reliable unit-testing
    - ASTRICam: [4,2] # dummy values for reliable unit-testing
    - DigiCam: [0,0] # values left unset for future studies
    - CHEC: [0,0] # values left unset for future studies
    - SCTCam: [0,0] # values left unset for future studies
   keep_isolated_pixels: True
   min_number_picture_neighbors: 1

  wave:
   # Directory to write temporary files
   #tmp_files_directory: '/dev/shm/'
   tmp_files_directory: './'
   options:
    LSTCam:
     type_of_filtering: 'hard_filtering'
     filter_thresholds: [3, 0.2]
     last_scale_treatment: 'posmask'
     kill_isolated_pixels: True
     detect_only_positive_structures: False
     clusters_threshold: 0
    NectarCam:  # TBC
     type_of_filtering: 'hard_filtering'
     filter_thresholds: [3, 0.2]
     last_scale_treatment: 'posmask'
     kill_isolated_pixels: True
     detect_only_positive_structures: False
     clusters_threshold: 0

# Cut for image selection
ImageSelection:
 source: "extended" # biggest or extended
 charge: [50., 1e10]
 pixel: [3, 1e10]
 ellipticity: [0.1, 0.6]
 nominal_distance: [0., 0.8]  # in camera radius

# Minimal number of telescopes to consider events
Reconstruction:
  # for events with <2 LST images the single-LST image is removed
  # before shower geometry
  LST_stereo: True
  # after this we check if the remaining images satisfy the min_tel condition
  min_tel: 2 # any tel_type

# Parameters for energy estimation
EnergyRegressor:
 # Name of the regression method (e.g. AdaBoostRegressor, etc.)
 method_name: 'RandomForestRegressor'
 estimation_weight: 'CTAMARS'

# Parameters for g/h separation
GammaHadronClassifier:
 # Name of the classification method (e.g. AdaBoostRegressor, etc.)
 method_name: 'RandomForestClassifier'
 # Use probability output or score
 use_proba: True
 estimation_weight: hillas_intensity**0.54 # empirical value from CTAMARS

